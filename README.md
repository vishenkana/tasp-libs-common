# ПК ТА: Библиотека с общими функциями

[[_TOC_]]

## Общие сведения

### Назначение

Библиотека предназначена для обеспечения общих функций всех модулей
**ПК ТА**:

- работа с аргументами командной строки;
- запуск программ и консольных команд на исполнение в отдельном процессе;
- работа с конфигурационными файлами СПО;
- логирование информации;
- работа с PID;
- работа с UUID.

### Используемые библиотеки

- libyaml - для работы с YAML-файлами;
- libmsgsl - набор функций для соответствия
  **C++ Core Guidelines maintained by the Standard C++ Foundation**;
- libjsoncpp - для работы с информацией в формате JSON.

## Сборка и компиляция

### Компиляция

Для компиляции необходимы следующие компоненты:

- компилятор Clang 11;
- генератор файлов сборки CMake;
- система сборки Ninja;
- поиск зависимостей pkg-config;
- библиотека libyaml;
- библиотека libmsgsl;
- библиотека libjsoncpp.

#### Загрузка submodule

Для загрузки **submodule/cmake** необходимо выполнить команды:

```sh
git submodule update --init --recursive
git submodule update --recursive --remote
```

#### Инструкция по компиляции

Для компиляции необходимо выполнить последовательность действий:

1. Установить необходимые для компиляции пакеты:

    ```sh
    sudo apt install -y --no-install-recommends \
        clang-11 \
        llvm-11-dev \
        cmake \
        ninja-build \
        pkg-config \
        libyaml-cpp-dev \
        libmsgsl-dev \
        libjsoncpp-dev
    ```

2. Выполнить компиляцию:

    ```sh
    (
        mkdir build
        cd build
        cmake ..
        ninja
    )
    ```

    >**Примечание**:
    >
    > - Для компиляции в режиме DEBUG использовать: -DCMAKE_BUILD_TYPE=Debug;
    > - Для компиляции без ccache использовать: -DUSE_CCACHE=OFF.

#### Результаты компиляции

Файлы будут расположены в **build/bin**.

## Установка

### Инструкция по установке

Для установки необходимо выполнить последовательность действий:

```sh
sudo ninja -C build install
```

## Документация

- [Конфигурационные файлы](./doc/config.md)
- [Логирование](./doc/logging.md)
- [Идентификатор процесса](./doc/pid.md)
